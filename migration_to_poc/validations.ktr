<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>validations</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <directory>/</directory>
    <parameters>
    </parameters>
    <log>
      <trans-log-table>
        <connection/>
        <schema/>
        <table/>
        <size_limit_lines/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STATUS</id>
          <enabled>Y</enabled>
          <name>STATUS</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
          <subject/>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
          <subject/>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
          <subject/>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
          <subject/>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>STARTDATE</id>
          <enabled>Y</enabled>
          <name>STARTDATE</name>
        </field>
        <field>
          <id>ENDDATE</id>
          <enabled>Y</enabled>
          <name>ENDDATE</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>DEPDATE</id>
          <enabled>Y</enabled>
          <name>DEPDATE</name>
        </field>
        <field>
          <id>REPLAYDATE</id>
          <enabled>Y</enabled>
          <name>REPLAYDATE</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>Y</enabled>
          <name>LOG_FIELD</name>
        </field>
        <field>
          <id>EXECUTING_SERVER</id>
          <enabled>N</enabled>
          <name>EXECUTING_SERVER</name>
        </field>
        <field>
          <id>EXECUTING_USER</id>
          <enabled>N</enabled>
          <name>EXECUTING_USER</name>
        </field>
        <field>
          <id>CLIENT</id>
          <enabled>N</enabled>
          <name>CLIENT</name>
        </field>
      </trans-log-table>
      <perf-log-table>
        <connection/>
        <schema/>
        <table/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>SEQ_NR</id>
          <enabled>Y</enabled>
          <name>SEQ_NR</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>INPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>INPUT_BUFFER_ROWS</name>
        </field>
        <field>
          <id>OUTPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>OUTPUT_BUFFER_ROWS</name>
        </field>
      </perf-log-table>
      <channel-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>LOGGING_OBJECT_TYPE</id>
          <enabled>Y</enabled>
          <name>LOGGING_OBJECT_TYPE</name>
        </field>
        <field>
          <id>OBJECT_NAME</id>
          <enabled>Y</enabled>
          <name>OBJECT_NAME</name>
        </field>
        <field>
          <id>OBJECT_COPY</id>
          <enabled>Y</enabled>
          <name>OBJECT_COPY</name>
        </field>
        <field>
          <id>REPOSITORY_DIRECTORY</id>
          <enabled>Y</enabled>
          <name>REPOSITORY_DIRECTORY</name>
        </field>
        <field>
          <id>FILENAME</id>
          <enabled>Y</enabled>
          <name>FILENAME</name>
        </field>
        <field>
          <id>OBJECT_ID</id>
          <enabled>Y</enabled>
          <name>OBJECT_ID</name>
        </field>
        <field>
          <id>OBJECT_REVISION</id>
          <enabled>Y</enabled>
          <name>OBJECT_REVISION</name>
        </field>
        <field>
          <id>PARENT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>PARENT_CHANNEL_ID</name>
        </field>
        <field>
          <id>ROOT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>ROOT_CHANNEL_ID</name>
        </field>
      </channel-log-table>
      <step-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>N</enabled>
          <name>LOG_FIELD</name>
        </field>
      </step-log-table>
      <metrics-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>METRICS_DATE</id>
          <enabled>Y</enabled>
          <name>METRICS_DATE</name>
        </field>
        <field>
          <id>METRICS_CODE</id>
          <enabled>Y</enabled>
          <name>METRICS_CODE</name>
        </field>
        <field>
          <id>METRICS_DESCRIPTION</id>
          <enabled>Y</enabled>
          <name>METRICS_DESCRIPTION</name>
        </field>
        <field>
          <id>METRICS_SUBJECT</id>
          <enabled>Y</enabled>
          <name>METRICS_SUBJECT</name>
        </field>
        <field>
          <id>METRICS_TYPE</id>
          <enabled>Y</enabled>
          <name>METRICS_TYPE</name>
        </field>
        <field>
          <id>METRICS_VALUE</id>
          <enabled>Y</enabled>
          <name>METRICS_VALUE</name>
        </field>
      </metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
    <created_user>-</created_user>
    <created_date>2019/08/08 09:19:20.307</created_date>
    <modified_user>-</modified_user>
    <modified_date>2019/08/08 09:19:20.307</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA=</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>epts</name>
    <server/>
    <type>GENERIC</type>
    <access>Native</access>
    <database/>
    <port>1521</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e4cb79ce10cc9da0ce</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>CUSTOM_DRIVER_CLASS</code>
        <attribute>com.mysql.cj.jdbc.Driver</attribute>
      </attribute>
      <attribute>
        <code>CUSTOM_URL</code>
        <attribute>jdbc:mysql://localhost:3306/CCSDBMASKED</attribute>
      </attribute>
      <attribute>
        <code>DATABASE_DIALECT_ID</code>
        <attribute>Generic database</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>1521</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SQL_CONNECT</code>
        <attribute>SET GLOBAL sql_mode = 'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <connection>
    <name>poc</name>
    <server/>
    <type>GENERIC</type>
    <access>Native</access>
    <database/>
    <port>1521</port>
    <username>root</username>
    <password>Encrypted 2be98afc86aa7f2e4cb79ce10cc9da0ce</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>CUSTOM_DRIVER_CLASS</code>
        <attribute>com.mysql.cj.jdbc.Driver</attribute>
      </attribute>
      <attribute>
        <code>CUSTOM_URL</code>
        <attribute>jdbc:mysql://localhost:3306/openmrs</attribute>
      </attribute>
      <attribute>
        <code>DATABASE_DIALECT_ID</code>
        <attribute>Generic database</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>1521</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SQL_CONNECT</code>
        <attribute>SET GLOBAL sql_mode = 'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <order>
    <hop>
      <from>epts_regime</from>
      <to>Text file output</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>poc_regime</from>
      <to>Text file output</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>epts_confident</from>
      <to>Text file output 2</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>poc_confident</from>
      <to>Text file output 2</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>epts tarv status</from>
      <to>Text file output 2 2</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>poc tarv status</from>
      <to>Text file output 2 2</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>epts_estadio</from>
      <to>Text file output 3</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>poc_estadio</from>
      <to>Text file output 3</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>poc_counts 3</from>
      <to>Text file output 5</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>epts_counts 3</from>
      <to>Text file output 5</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>epts tarv status 2</from>
      <to>Text file output 2 2 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>epts_confident 2</from>
      <to>Text file output 2 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>epts_counts 3 2</from>
      <to>Text file output 5 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>epts_estadio 2</from>
      <to>Text file output 3 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>epts_regime 2</from>
      <to>Text file output 4</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>poc tarv status 2</from>
      <to>Text file output 2 2 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>poc_confident 2</from>
      <to>Text file output 2 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>poc_counts 3 2</from>
      <to>Text file output 5 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>poc_estadio 2</from>
      <to>Text file output 3 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>poc_regime 2</from>
      <to>Text file output 4</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <step>
    <name>Text file output</name>
    <type>TextFileOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <separator>;</separator>
    <enclosure>"</enclosure>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>Y</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding/>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>/home/amos/Documents/projects/validation1</name>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>csv</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>N</pad>
      <fast_dump>N</fast_dump>
      <splitevery/>
    </file>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>576</xloc>
      <yloc>112</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Text file output 2</name>
    <type>TextFileOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <separator>,</separator>
    <enclosure>"</enclosure>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>Y</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding/>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>/home/amos/Documents/projects/validation2</name>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>csv</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>N</pad>
      <fast_dump>N</fast_dump>
      <splitevery/>
    </file>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>704</xloc>
      <yloc>112</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Text file output 2 2</name>
    <type>TextFileOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <separator>,</separator>
    <enclosure>"</enclosure>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>Y</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding/>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>/home/amos/Documents/projects/validation3</name>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>csv</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>N</pad>
      <fast_dump>N</fast_dump>
      <splitevery/>
    </file>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>896</xloc>
      <yloc>112</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Text file output 2 2 2</name>
    <type>TextFileOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <separator>,</separator>
    <enclosure>"</enclosure>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>Y</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding/>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>/home/amos/Documents/projects/validation3</name>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>csv</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>N</pad>
      <fast_dump>N</fast_dump>
      <splitevery/>
    </file>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>896</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Text file output 2 3</name>
    <type>TextFileOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <separator>,</separator>
    <enclosure>"</enclosure>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>Y</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding/>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>/home/amos/Documents/projects/validation2</name>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>csv</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>N</pad>
      <fast_dump>N</fast_dump>
      <splitevery/>
    </file>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>704</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Text file output 3</name>
    <type>TextFileOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <separator>,</separator>
    <enclosure>"</enclosure>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>Y</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding/>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>/home/amos/Documents/projects/validation4</name>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>csv</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>N</pad>
      <fast_dump>N</fast_dump>
      <splitevery/>
    </file>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1168</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Text file output 3 2</name>
    <type>TextFileOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <separator>,</separator>
    <enclosure>"</enclosure>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>Y</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding/>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>/home/amos/Documents/projects/validation4</name>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>csv</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>N</pad>
      <fast_dump>N</fast_dump>
      <splitevery/>
    </file>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1168</xloc>
      <yloc>432</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Text file output 4</name>
    <type>TextFileOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <separator>;</separator>
    <enclosure>"</enclosure>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>Y</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding/>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>/home/amos/Documents/projects/validation1</name>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>csv</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>N</pad>
      <fast_dump>N</fast_dump>
      <splitevery/>
    </file>
    <fields>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>576</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Text file output 5</name>
    <type>TextFileOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <separator>;</separator>
    <enclosure>"</enclosure>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>Y</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding/>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>/home/amos/Documents/projects/validation0</name>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>csv</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>N</pad>
      <fast_dump>N</fast_dump>
      <splitevery/>
    </file>
    <fields>
      <field>
        <name>reg_pat</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_male</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_female</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_no_bday</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_under_five</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_five_fifteen</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_sixteen_fourtysix</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_over_fourtysix</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_bi</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_tb</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_next_cons</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_next_arv</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_dead</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_transfer_out</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_abandoned_tarv</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_abandoned_pretarv</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_suspended</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>352</xloc>
      <yloc>112</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Text file output 5 2</name>
    <type>TextFileOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <separator>;</separator>
    <enclosure>"</enclosure>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>Y</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding/>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>/home/amos/Documents/projects/validation0</name>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>csv</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>N</pad>
      <fast_dump>N</fast_dump>
      <splitevery/>
    </file>
    <fields>
      <field>
        <name>reg_pat</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_male</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_female</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_no_bday</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_under_five</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_five_fifteen</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_sixteen_fourtysix</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_over_fourtysix</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_bi</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_tb</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_next_cons</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_next_arv</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_dead</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_transfer_out</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_abandoned_tarv</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_abandoned_pretarv</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
      <field>
        <name>pat_suspended</name>
        <type>Binary</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>0</precision>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>352</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>epts tarv status</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>epts</connection>
    <sql>select 
(
select concat(count(*),' EPTS') from
(select pp.patient_id, pp.program_id,max(pp.patient_program_id) 
from patient_program pp
where pp.program_id = 2 and pp.voided=0  and pp.patient_id between 27500 and 28500
and pp.patient_id in (select distinct patient_id from patient where voided =0 and patient_id between 27500 and 28500)
group by pp.patient_id) tarv ) as tarv_count,

(select concat(count(*),' EPTS') from
(select pp.patient_id, pp.program_id,max(pp.patient_program_id)
from patient_program pp
where pp.program_id = 1 and pp.voided=0  and pp.patient_id between 27500 and 28500
and pp.patient_id  not in (select pp.patient_id
from patient_program pp 
where pp.program_id = 2 and pp.voided=0  and pp.patient_id between 27500 and 28500
and pp.patient_id in (select distinct patient_id from patient where voided =0 and patient_id between 27500 and 28500)
group by pp.patient_id)
and pp.patient_id in (select distinct patient_id from patient where voided =0 and patient_id between 27500 and 28500)
group by pp.patient_id) pre_tarv
) as pre_tarv_count

from dual</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>768</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>epts tarv status 2</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>epts</connection>
    <sql>select 
(
select concat(count(*),' EPTS') from
(select pp.patient_id, pp.program_id,max(pp.patient_program_id) 
from patient_program pp
where pp.program_id = 2 and pp.voided=0  -- and pp.patient_id between 27500 and 28500
-- and pp.patient_id in (select distinct patient_id from patient where voided =0 and patient_id between 27500 and 28500)
group by pp.patient_id) tarv ) as tarv_count,

(select concat(count(*),' EPTS') from
(select pp.patient_id, pp.program_id,max(pp.patient_program_id)
from patient_program pp
where pp.program_id = 1 and pp.voided=0  -- and pp.patient_id between 27500 and 28500
and pp.patient_id  not in (select pp.patient_id
from patient_program pp 
where pp.program_id = 2 and pp.voided=0  -- and pp.patient_id between 27500 and 28500
-- and pp.patient_id in (select distinct patient_id from patient where voided =0 and patient_id between 27500 and 28500)
group by pp.patient_id)
-- and pp.patient_id in (select distinct patient_id from patient where voided =0 and patient_id between 27500 and 28500)
group by pp.patient_id) pre_tarv
) as pre_tarv_count

from dual</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>768</xloc>
      <yloc>336</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>epts_confident</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>epts</connection>
    <sql>select 
(select
concat(count(*),' EPTS') from (
SELECT p.patient_id,o.concept_id,max(e.encounter_datetime) as last_datetime
        FROM patient p
          INNER JOIN encounter e ON e.patient_id = p.patient_id AND e.location_id=208 AND e.voided = 0
          INNER JOIN obs o ON o.encounter_id = e.encounter_id  AND o.location_id=208 AND o.voided = 0
          WHERE p.voided = 0 AND e.voided = 0 AND o.voided=0
          AND e.encounter_type IN (1,6,13,35,34,5,18,3,7,9)
          and p.patient_id between 27500 and 28500
          and o.concept_id in (1611)
          AND p.voided = 0
          group by   p.patient_id) as confident_number) as confident_number,

(select concat(count(*),' EPTS') from
(SELECT p.patient_id,o.concept_id,max(e.encounter_datetime) as last_datetime
        FROM patient p
          INNER JOIN encounter e ON e.patient_id = p.patient_id AND e.location_id=208 AND e.voided = 0
          INNER JOIN obs o ON o.encounter_id = e.encounter_id  AND o.location_id=208 AND o.voided = 0
          WHERE p.voided = 0 AND e.voided = 0 AND o.voided=0
          AND e.encounter_type IN (1,6,13,35,34,5,18,3,7,9)
          and p.patient_id between 27500 and 28500
          and o.concept_id in (1740)
          AND p.voided = 0
          group by   p.patient_id) as confident_name) as confident_name

from dual

</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>576</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>epts_confident 2</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>epts</connection>
    <sql>select 
(select
concat(count(*),' EPTS') from (
SELECT p.patient_id,o.concept_id,max(e.encounter_datetime) as last_datetime
        FROM patient p
          INNER JOIN encounter e ON e.patient_id = p.patient_id 
-- AND e.location_id=208 
AND e.voided = 0
          INNER JOIN obs o ON o.encounter_id = e.encounter_id  
-- AND o.location_id=208 
AND o.voided = 0
          WHERE p.voided = 0 AND e.voided = 0 AND o.voided=0
          AND e.encounter_type IN (1,6,13,35,34,5,18,3,7,9)
          -- and p.patient_id between 27500 and 28500
          and o.concept_id =1611
          AND p.voided = 0
          group by   p.patient_id) as confident_number) as confident_number,

(select concat(count(*),' EPTS') from
(SELECT p.patient_id,o.concept_id,max(e.encounter_datetime) as last_datetime
        FROM patient p
          INNER JOIN encounter e ON e.patient_id = p.patient_id 
-- AND e.location_id=208 
AND e.voided = 0
          INNER JOIN obs o ON o.encounter_id = e.encounter_id  
-- AND o.location_id=208 
AND o.voided = 0
          WHERE p.voided = 0 AND e.voided = 0 AND o.voided=0
          AND e.encounter_type IN (1,6,13,35,34,5,18,3,7,9)
          -- and p.patient_id between 27500 and 28500
          and o.concept_id = 1740
          AND p.voided = 0
          group by   p.patient_id) as confident_name) as confident_name

from dual

</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>576</xloc>
      <yloc>336</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>epts_counts 3</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>epts</connection>
    <sql>select 

(select concat(count(*),' EPTS') from person p where p.voided=0 and p.voided = 0
and p.person_id between 27500 and 28500 
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2)))  as reg_pat, 

(select concat(count(*),' EPTS')  from person p
where p.voided=0 and p.gender = 'M'
and p.person_id between 27500 and 28500
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2))) as pat_male,

(select concat(count(*),' EPTS')  from person p 
where p.voided=0 and p.gender = 'F'
and p.person_id between 27500 and 28500
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2))) as pat_female,

(select concat(count(*),' EPTS')  from person p
where p.voided=0
and p.birthdate is null and p.person_id between 27500 and 28500
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2))) as pat_no_bday,

(select concat(count(*),' EPTS')  from person p
where p.voided = 0
and (timestampdiff(YEAR, date(p.birthdate), date(now())) &lt; 5)
and p.birthdate is not null
and p.person_id between 27500 and 28500
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2))) as pat_under_five,

(select concat(count(*),' EPTS')  from  person p
where p.voided = 0
and (timestampdiff(YEAR, date(p.birthdate), date(now())) >= 5)
and (timestampdiff(YEAR, date(p.birthdate), date(now())) &lt;= 15)
and p.birthdate is not null
and p.person_id between 27500 and 28500
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2))) as pat_five_fifteen,

(select concat(count(*),' EPTS')  from person p
where p.voided = 0
and (timestampdiff(YEAR, date(p.birthdate), date(now())) > 15)
and (timestampdiff(YEAR, date(p.birthdate), date(now())) &lt;= 45)
and p.birthdate is not null
and p.person_id between 27500 and 28500
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2))) as pat_sixteen_fourtysix,

(select concat(count(*),' EPTS')  from person p
where p.voided = 0
and (timestampdiff(YEAR, date(p.birthdate), date(now())) > 45)
and p.birthdate is not null
and p.person_id between 27500 and 28500
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2))) as pat_over_fourtysix,

(select concat(count(*),' EPTS') from patient_identifier pa
where pa.identifier_type = 3 
and pa.patient_id between 27500 and 28500
) as pat_bi,


(select concat(count(*),' EPTS')  from
(SELECT p.patient_id,o.concept_id,o.value_coded,max(e.encounter_datetime) as last_datetime
        FROM patient p
          INNER JOIN encounter e ON e.patient_id = p.patient_id 
-- AND e.location_id=208 
AND e.voided = 0
          INNER JOIN obs o ON o.encounter_id = e.encounter_id  
-- AND o.location_id=208 
AND o.voided = 0
        WHERE p.voided = 0 AND e.voided = 0 AND o.voided=0
          AND e.encounter_type IN (1,6,13,35,34,5,18,3,7,9)
and p.patient_id between 27500 and 28500 
and p.patient_id in (select distinct patient_id from patient_program where program_id in (1,2))
          and o.concept_id = 6257 and o.value_coded = 1065
          AND p.voided = 0
group by   p.patient_id) as tb) as pat_tb ,

(select concat(count(*),' EPTS')  from (
SELECT p.patient_id,o.concept_id,max(e.encounter_datetime) as last_datetime
        FROM patient p
          INNER JOIN encounter e ON e.patient_id = p.patient_id 
-- AND e.location_id=208 
AND e.voided = 0
          INNER JOIN obs o ON o.encounter_id = e.encounter_id  
-- AND o.location_id=208 
AND o.voided = 0
        WHERE p.voided = 0 AND e.voided = 0 AND o.voided=0
          AND e.encounter_type IN (1,6,13,35,34,5,18,3,7,9)
and p.patient_id between 27500 and 28500
          and o.concept_id = 1410
          AND p.voided = 0
group by   p.patient_id) as next_cons) as pat_next_cons, 

 

(select concat(count(*),' EPTS')  from (
SELECT p.patient_id,o.concept_id,max(e.encounter_datetime) as last_datetime
        FROM patient p
          INNER JOIN encounter e ON e.patient_id = p.patient_id 
-- AND e.location_id=208 
AND e.voided = 0
          INNER JOIN obs o ON o.encounter_id = e.encounter_id  
-- AND o.location_id=208 
AND o.voided = 0
        WHERE p.voided = 0 AND e.voided = 0 AND o.voided=0
          AND e.encounter_type IN (1,6,13,35,34,5,18,3,7,9)
and p.patient_id between 27500 and 28500
          and o.concept_id = 5096
          AND p.voided = 0
group by   p.patient_id) as next_tarv) as pat_next_arv,


(select concat(count(*),' EPTS')  from (
select
distinct p.patient_id, program.program_id,max(program.state_id)
from patient p
inner join 
(select pp.patient_id, pp.patient_program_id,state.state_id, program_id
from patient_program pp 
inner join 
(select patient_program_id, max(patient_state_id) state_id 
from patient_state 
where state in (5,10) group by patient_program_id) state on state.patient_program_id = pp.patient_program_id 
where pp.program_id in (1,2) and pp.voided=0) program on program.patient_id = p.patient_id
where p.voided=0 and p.patient_id between 27500 and 28500
group by p.patient_id) states) as pat_dead,


(select concat(count(*),' EPTS')  from (
select
distinct p.patient_id, program.program_id,max(program.state_id)
from patient p
inner join 
(select pp.patient_id, pp.patient_program_id,state.state_id, program_id
from patient_program pp 
inner join 
(select patient_program_id, max(patient_state_id) state_id 
from patient_state 
where state in (3,7) group by patient_program_id) state on state.patient_program_id = pp.patient_program_id 
where pp.program_id in (1,2) and pp.voided=0) program on program.patient_id = p.patient_id
where p.voided=0 and p.patient_id between 27500 and 28500
group by p.patient_id) states) as pat_transfer_out,


((select concat(count(*),' EPTS') from 
(-- TARV patient voided = 0
select p.patient_id, pp3.max_patient_state_id, pp3.state
from
(select pp2.patient_id, pp2.max_patient_state_id, ps2.state
from (
select pp.patient_id, max(ps.patient_state_id) as max_patient_state_id
from
(select patient_program_id, patient_id, program_id
from patient_program
where program_id = 2
and patient_id between 27500 and 28500
and voided = 0) as pp, patient_state as ps
where ps.patient_program_id = pp.patient_program_id
group by pp.patient_id) as pp2, patient_state as ps2
where pp2.max_patient_state_id = ps2.patient_state_id
and ps2.state = 9) as pp3, patient as p
where pp3.patient_id = p.patient_id
and p.voided = 0) as tarv)) as pat_abandoned_tarv,

((select concat(count(*),' EPTS') from 
(-- Pre TARV patient voided = 0 Abandono
select p.patient_id, pp3.max_patient_state_id, pp3.state
from
(select pp2.patient_id, pp2.max_patient_state_id, ps2.state
from (
select pp.patient_id, max(ps.patient_state_id) as max_patient_state_id
from
(select patient_program_id, patient_id, program_id
from patient_program
where program_id = 1
and patient_id between 27500 and 28500
and patient_id not in (select pp.patient_id
from patient_program pp
where pp.program_id = 2 and pp.voided=0
and pp.patient_id in (select distinct patient_id from patient where voided =0 and patient_id between 27500 and 28500)
group by pp.patient_id)
and voided = 0) as pp, patient_state as ps
where ps.patient_program_id = pp.patient_program_id
group by pp.patient_id) as pp2, patient_state as ps2
where pp2.max_patient_state_id = ps2.patient_state_id) as pp3, patient as p
where pp3.patient_id = p.patient_id and pp3.state = 2
and p.voided = 0) as pre_tarv)
) as pat_abandoned_pretarv,

(select concat(count(*),' EPTS')  from (
select
distinct p.patient_id, program.program_id,max(program.state_id)
from patient p
inner join 
(select pp.patient_id, pp.patient_program_id,state.state_id, program_id
from patient_program pp 
inner join 
(select patient_program_id, max(patient_state_id) state_id 
from patient_state 
where state = 8 group by patient_program_id) state on state.patient_program_id = pp.patient_program_id 
where pp.program_id in (1,2) and pp.voided=0) program on program.patient_id = p.patient_id
where p.voided=0 and p.patient_id between 27500 and 28500
group by p.patient_id,program.program_id) states) as pat_suspended


 from dual</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>224</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>epts_counts 3 2</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>epts</connection>
    <sql>select 

(select concat(count(*),' EPTS') from person p where p.voided=0 and p.voided = 0
-- and p.person_id between 27500 and 28500 
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2)))  as reg_pat, 

(select concat(count(*),' EPTS')  from person p
where p.voided=0 and p.gender = 'M'
-- and p.person_id between 27500 and 28500
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2))) as pat_male,

(select concat(count(*),' EPTS')  from person p 
where p.voided=0 and p.gender = 'F'
-- and p.person_id between 27500 and 28500
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2))) as pat_female,

(select concat(count(*),' EPTS')  from person p
where p.voided=0
and p.birthdate is null -- and p.person_id between 27500 and 28500
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2))) as pat_no_bday,

(select concat(count(*),' EPTS')  from person p
where p.voided = 0
and (timestampdiff(YEAR, date(p.birthdate), date(now())) &lt; 5)
and p.birthdate is not null
-- and p.person_id between 27500 and 28500
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2))) as pat_under_five,

(select concat(count(*),' EPTS')  from  person p
where p.voided = 0
and (timestampdiff(YEAR, date(p.birthdate), date(now())) >= 5)
and (timestampdiff(YEAR, date(p.birthdate), date(now())) &lt;= 15)
and p.birthdate is not null
-- and p.person_id between 27500 and 28500
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2))) as pat_five_fifteen,

(select concat(count(*),' EPTS')  from person p
where p.voided = 0
and (timestampdiff(YEAR, date(p.birthdate), date(now())) > 15)
and (timestampdiff(YEAR, date(p.birthdate), date(now())) &lt;= 45)
and p.birthdate is not null
-- and p.person_id between 27500 and 28500
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2))) as pat_sixteen_fourtysix,

(select concat(count(*),' EPTS')  from person p
where p.voided = 0
and (timestampdiff(YEAR, date(p.birthdate), date(now())) > 45)
and p.birthdate is not null
-- and p.person_id between 27500 and 28500
and p.person_id in (select distinct pp.patient_id from patient_program pp where pp.program_id in (1,2))) as pat_over_fourtysix,

(select concat(count(*),' EPTS') from patient_identifier pa
where pa.identifier_type = 3 
-- and pa.patient_id between 27500 and 28500
) as pat_bi,


(select concat(count(*),' EPTS')  from
(SELECT p.patient_id,o.concept_id,o.value_coded,max(e.encounter_datetime) as last_datetime
        FROM patient p
          INNER JOIN encounter e ON e.patient_id = p.patient_id 
-- AND e.location_id=208 
AND e.voided = 0
          INNER JOIN obs o ON o.encounter_id = e.encounter_id  
-- AND o.location_id=208 
AND o.voided = 0
        WHERE p.voided = 0 AND e.voided = 0 AND o.voided=0
          AND e.encounter_type IN (1,6,13,35,34,5,18,3,7,9)
-- and p.patient_id between 27500 and 28500 
and p.patient_id in (select distinct patient_id from patient_program where program_id in (1,2))
          and o.concept_id = 6257 and o.value_coded = 1065
          AND p.voided = 0
group by   p.patient_id) as tb) as pat_tb ,

(select concat(count(*),' EPTS')  from (
SELECT p.patient_id,o.concept_id,max(e.encounter_datetime) as last_datetime
        FROM patient p
          INNER JOIN encounter e ON e.patient_id = p.patient_id 
-- AND e.location_id=208 
AND e.voided = 0
          INNER JOIN obs o ON o.encounter_id = e.encounter_id  
-- AND o.location_id=208 
AND o.voided = 0
        WHERE p.voided = 0 AND e.voided = 0 AND o.voided=0
          AND e.encounter_type IN (1,6,13,35,34,5,18,3,7,9)
-- and p.patient_id between 27500 and 28500
          and o.concept_id = 1410
          AND p.voided = 0
group by   p.patient_id) as next_cons) as pat_next_cons, 

 

(select concat(count(*),' EPTS')  from (
SELECT p.patient_id,o.concept_id,max(e.encounter_datetime) as last_datetime
        FROM patient p
          INNER JOIN encounter e ON e.patient_id = p.patient_id 
-- AND e.location_id=208 
AND e.voided = 0
          INNER JOIN obs o ON o.encounter_id = e.encounter_id  
-- AND o.location_id=208 
AND o.voided = 0
        WHERE p.voided = 0 AND e.voided = 0 AND o.voided=0
          AND e.encounter_type IN (1,6,13,35,34,5,18,3,7,9)
-- and p.patient_id between 27500 and 28500
          and o.concept_id = 5096
          AND p.voided = 0
group by   p.patient_id) as next_tarv) as pat_next_arv,


(select concat(count(*),' EPTS')  from (
select
distinct p.patient_id, program.program_id,max(program.state_id)
from patient p
inner join 
(select pp.patient_id, pp.patient_program_id,state.state_id, program_id
from patient_program pp 
inner join 
(select patient_program_id, max(patient_state_id) state_id 
from patient_state 
where state in (5,10) group by patient_program_id) state on state.patient_program_id = pp.patient_program_id 
where pp.program_id in (1,2) and pp.voided=0) program on program.patient_id = p.patient_id
where p.voided=0 -- and p.patient_id between 27500 and 28500
group by p.patient_id) states) as pat_dead,


(select concat(count(*),' EPTS')  from (
select
distinct p.patient_id, program.program_id,max(program.state_id)
from patient p
inner join 
(select pp.patient_id, pp.patient_program_id,state.state_id, program_id
from patient_program pp 
inner join 
(select patient_program_id, max(patient_state_id) state_id 
from patient_state 
where state in (3,7) group by patient_program_id) state on state.patient_program_id = pp.patient_program_id 
where pp.program_id in (1,2) and pp.voided=0) program on program.patient_id = p.patient_id
where p.voided=0 -- and p.patient_id between 27500 and 28500
group by p.patient_id) states) as pat_transfer_out,


((select concat(count(*),' EPTS') from 
(-- TARV patient voided = 0
select p.patient_id, pp3.max_patient_state_id, pp3.state
from
(select pp2.patient_id, pp2.max_patient_state_id, ps2.state
from (
select pp.patient_id, max(ps.patient_state_id) as max_patient_state_id
from
(select patient_program_id, patient_id, program_id
from patient_program
where program_id = 2
-- and patient_id between 27500 and 28500
and voided = 0) as pp, patient_state as ps
where ps.patient_program_id = pp.patient_program_id
group by pp.patient_id) as pp2, patient_state as ps2
where pp2.max_patient_state_id = ps2.patient_state_id
and ps2.state = 9) as pp3, patient as p
where pp3.patient_id = p.patient_id
and p.voided = 0) as tarv)) as pat_abandoned_tarv,

((select concat(count(*),' EPTS') from 
(-- Pre TARV patient voided = 0 Abandono
select p.patient_id, pp3.max_patient_state_id, pp3.state
from
(select pp2.patient_id, pp2.max_patient_state_id, ps2.state
from (
select pp.patient_id, max(ps.patient_state_id) as max_patient_state_id
from
(select patient_program_id, patient_id, program_id
from patient_program
where program_id = 1
-- and patient_id between 27500 and 28500
and patient_id not in (select pp.patient_id
from patient_program pp
where pp.program_id = 2 and pp.voided=0
and pp.patient_id in (select distinct patient_id from patient where voided =0 and patient_id between 27500 and 28500)
group by pp.patient_id)
and voided = 0) as pp, patient_state as ps
where ps.patient_program_id = pp.patient_program_id
group by pp.patient_id) as pp2, patient_state as ps2
where pp2.max_patient_state_id = ps2.patient_state_id) as pp3, patient as p
where pp3.patient_id = p.patient_id and pp3.state = 2
and p.voided = 0) as pre_tarv)
) as pat_abandoned_pretarv,

(select concat(count(*),' EPTS')  from (
select
distinct p.patient_id, program.program_id,max(program.state_id)
from patient p
inner join 
(select pp.patient_id, pp.patient_program_id,state.state_id, program_id
from patient_program pp 
inner join 
(select patient_program_id, max(patient_state_id) state_id 
from patient_state 
where state = 8 group by patient_program_id) state on state.patient_program_id = pp.patient_program_id 
where pp.program_id in (1,2) and pp.voided=0) program on program.patient_id = p.patient_id
where p.voided=0 -- and p.patient_id between 27500 and 28500
group by p.patient_id,program.program_id) states) as pat_suspended


 from dual</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>224</xloc>
      <yloc>336</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>epts_estadio</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>epts</connection>
    <sql> select  case
when last_encounter.value_coded=1204 then 'estadio 1 epts'
when last_encounter.value_coded=1205 then 'estadio 2 epts'
when last_encounter.value_coded=1206 then 'estadio 3 epts'
when last_encounter.value_coded=1207 then 'estadio 4 epts'
else 'estadio xx'
end as value_coded, count(*) 
from (
  SELECT o.person_id, o.value_coded, max(e.encounter_datetime)
FROM obs o
INNER JOIN encounter e ON o.encounter_id = e.encounter_id
INNER JOIN patient p ON o.person_id = p.patient_id
WHERE (o.value_coded IN (1204,1205,1206,1207))
    AND (o.voided = 0)
   AND (o.person_id between 27500 and 28500)
   -- AND (o.location_id = 208)
   AND (e.encounter_type IN (1,6,13,35,34,5,18,3,7,9))
   -- AND (e.location_id = 208)
   AND (e.voided = 0)
   AND (p.voided = 0)
   AND (p.patient_id IN (SELECT DISTINCT pp.patient_id from patient_program pp where pp.program_id IN (1,2)))
GROUP BY o.person_id) as last_encounter
group by value_coded;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>992</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>epts_estadio 2</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>epts</connection>
    <sql> select  case
when last_encounter.value_coded=1204 then 'estadio 1 epts'
when last_encounter.value_coded=1205 then 'estadio 2 epts'
when last_encounter.value_coded=1206 then 'estadio 3 epts'
when last_encounter.value_coded=1207 then 'estadio 4 epts'
else 'estadio xx'
end as value_coded, count(*) 
from (
  SELECT o.person_id, o.value_coded, max(e.encounter_datetime)
FROM obs o
INNER JOIN encounter e ON o.encounter_id = e.encounter_id
INNER JOIN patient p ON o.person_id = p.patient_id
WHERE (o.value_coded IN (1204,1205,1206,1207))
    AND (o.voided = 0)
   -- AND (o.person_id between 27500 and 28500)
   -- AND (o.location_id = 208)
   AND (e.encounter_type IN (1,6,13,35,34,5,18,3,7,9))
   -- AND (e.location_id = 208)
   AND (e.voided = 0)
   AND (p.voided = 0)
   AND (p.patient_id IN (SELECT DISTINCT pp.patient_id from patient_program pp where pp.program_id IN (1,2)))
GROUP BY o.person_id) as last_encounter
group by value_coded;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>992</xloc>
      <yloc>352</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>epts_regime</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>epts</connection>
    <sql>select 

concat(count(pat_regime.patient_id),' EPTS') 

from (
SELECT p.patient_id,o.concept_id,max(e.encounter_datetime) as last_datetime
        FROM patient p
          INNER JOIN encounter e ON e.patient_id = p.patient_id AND e.location_id=208 AND e.voided = 0
          INNER JOIN obs o ON o.encounter_id = e.encounter_id  AND o.location_id=208 AND o.voided = 0
        WHERE p.voided = 0 AND e.voided = 0 AND o.voided=0
          AND e.encounter_type IN (1,6,13,35,34,5,18,3,7,9)
and p.patient_id between 27500 and 28500
          and o.concept_id = 1255 and o.value_coded=1259
and e.encounter_id in (select distinct encounter_id from obs where person_id = o.person_id 
and concept_id = 1087 and value_coded is not null)
          AND p.voided = 0
group by   p.patient_id) as pat_regime
</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>416</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>epts_regime 2</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>epts</connection>
    <sql>select 

concat(count(pat_regime.patient_id),' EPTS') 

from (
SELECT p.patient_id,o.concept_id,max(e.encounter_datetime) as last_datetime
        FROM patient p
          INNER JOIN encounter e ON e.patient_id = p.patient_id AND e.location_id=208 AND e.voided = 0
          INNER JOIN obs o ON o.encounter_id = e.encounter_id  AND o.location_id=208 AND o.voided = 0
        WHERE p.voided = 0 AND e.voided = 0 AND o.voided=0
          AND e.encounter_type IN (1,6,13,35,34,5,18,3,7,9)
-- and p.patient_id between 27500 and 28500
          and o.concept_id = 1255 and o.value_coded=1259
and e.encounter_id in (select distinct encounter_id from obs where person_id = o.person_id 
and concept_id = 1087 and value_coded is not null)
          AND p.voided = 0
group by   p.patient_id) as pat_regime
</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>416</xloc>
      <yloc>336</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>poc tarv status</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>poc</connection>
    <sql>select 

(select concat(count(*),' POC')  
from openmrs.patient_status_state 
where patient_status ='TARV'
and id in 
(select distinct max(id) from openmrs.patient_status_state group by patient_id)
group by  patient_status) as tarv_count,

(select concat(count(*),' POC')  
from openmrs.patient_status_state 
where patient_status ='Pre Tarv'
and id in 
(select distinct max(id) from openmrs.patient_status_state group by patient_id)
group by  patient_status) as pre_tarv_count

from dual
</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>768</xloc>
      <yloc>192</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>poc tarv status 2</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>poc</connection>
    <sql>select 

(select concat(count(*),' POC')  
from openmrs.patient_status_state 
where patient_status ='TARV'
and id in 
(select distinct max(id) from openmrs.patient_status_state group by patient_id)
group by  patient_status) as tarv_count,

(select concat(count(*),' POC')  
from openmrs.patient_status_state 
where patient_status ='Pre Tarv'
and id in 
(select distinct max(id) from openmrs.patient_status_state group by patient_id)
group by  patient_status) as pre_tarv_count

from dual
</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>768</xloc>
      <yloc>496</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>poc_confident</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>poc</connection>
    <sql>select 

(select concat(count(*),' POC')
from openmrs.obs 
where concept_id = 8673
and person_id in (select person_id from person_attribute where person_attribute_type_id = 999 and value between 27500 and 28500)) as confident_number,

(select concat(count(*),' POC')
from openmrs.obs 
where concept_id = 8672
and person_id in (select person_id from person_attribute where person_attribute_type_id = 999 and value between 27500 and 28500)) as confident_name

from dual
</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>576</xloc>
      <yloc>192</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>poc_confident 2</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>poc</connection>
    <sql>select 

(select concat(count(*),' POC')
from openmrs.obs 
where concept_id = 8673
-- and person_id in (select person_id from person_attribute where person_attribute_type_id = 999 and value between 27500 and 28500)
) as confident_number,

(select concat(count(*),' POC')
from openmrs.obs 
where concept_id = 8672
-- and person_id in (select person_id from person_attribute where person_attribute_type_id = 999 and value between 27500 and 28500)
) as confident_name

from dual
</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>576</xloc>
      <yloc>496</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>poc_counts 3</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>poc</connection>
    <sql>select 


(select concat(count(*), ' POC')from person p inner join patient pt on p.person_id = pt.patient_id 
where p.voided=0 and pt.voided = 0
and p.person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500))  as reg_pat, 

(select concat(count(*), ' POC')from person p inner join patient pt on p.person_id = pt.patient_id where p.voided=0 and pt.voided = 0 and p.gender = 'M'
and p.person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)) as pat_male,

(select concat(count(*), ' POC')from person p inner join patient pt on p.person_id = pt.patient_id where p.voided=0 and pt.voided = 0 and p.gender = 'F'
and p.person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)) as pat_female,

(select concat(count(*), ' POC')from person p inner join patient pt on p.person_id = pt.patient_id where p.voided=0 and pt.voided = 0 
and p.birthdate is  null
and p.person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)) as pat_no_bday,

(select concat(count(*), ' POC') from person p
   where p.voided = 0
   and (timestampdiff(YEAR, date(p.birthdate), date(now())) &lt; 5)
    and p.birthdate is not null
   and p.person_id in (select distinct pa.person_id from person_attribute pa
where pa.person_attribute_type_id = 999)) as pat_under_five,

(select concat(count(*), ' POC')from person p where p.voided = 0
   and (timestampdiff(YEAR, date(p.birthdate), date(now())) >= 5)
   and (timestampdiff(YEAR, date(p.birthdate), date(now())) &lt;= 15)
    and p.birthdate is not null
   and p.person_id in (select distinct pa.person_id from person_attribute pa
where pa.person_attribute_type_id = 999)) as pat_five_fifteen,

(select concat(count(*), ' POC')from person p
   where p.voided = 0
   and (timestampdiff(YEAR, date(p.birthdate), date(now())) > 15)
   and (timestampdiff(YEAR, date(p.birthdate), date(now())) &lt;= 45)
    and p.birthdate is not null
   and p.person_id in (select distinct pa.person_id from person_attribute pa
where pa.person_attribute_type_id = 999)) as pat_sixteen_fourtysix,

(select concat(count(*), ' POC')from person p
   where p.voided = 0
   and (timestampdiff(YEAR, date(p.birthdate), date(now())) > 45)
    and p.birthdate is not null
   and p.person_id in (select distinct pa.person_id from person_attribute pa
where pa.person_attribute_type_id = 999)) as pat_over_fourtysix,

(select concat(count(*), ' POC')from openmrs.person_attribute where person_attribute_type_id = '39'
and person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)) as pat_bi,

(select concat(count(*), ' POC') from openmrs.obs
where concept_id = 8314 and value_coded =1 
and person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
) as pat_tb,

(select concat(count(*), ' POC') from openmrs.obs
where concept_id = 8332
and person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
) as pat_next_cons, 

 
(select concat(count(*), ' POC') from openmrs.obs
where concept_id = 8333
and person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
) as pat_next_arv,


(select concat(count(*), ' POC')from openmrs.patient_status_state
where patient_state = 'INACTIVE_DEATH' and id in 
(select max(id) from openmrs.patient_status_state group by patient_id)
and patient_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)) as pat_dead,

(select concat(count(*), ' POC')from openmrs.patient_status_state
where patient_state = 'INACTIVE_TRANSFERRED_OUT' and id in 
(select max(id) from openmrs.patient_status_state group by patient_id)
and patient_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)) as pat_transfer_out,

(select concat(count(*), ' POC')from openmrs.patient_status_state
where patient_state = 'TARV_ABANDONED' and patient_status = 'TARV'
and patient_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)) as pat_abandoned_tarv,

(select concat(count(*), ' POC')from openmrs.patient_status_state
where patient_state = 'TARV_ABANDONED' and patient_status = 'Pre TARV'
and patient_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)) as pat_abandoned_pretarv,

(select concat(count(*), ' POC')from openmrs.patient_status_state
where patient_state = 'INACTIVE_SUSPENDED' and id in 
(select max(id) from openmrs.patient_status_state group by patient_id)
and patient_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)) as pat_suspended

 from dual</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>224</xloc>
      <yloc>192</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>poc_counts 3 2</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>poc</connection>
    <sql>select 


(select concat(count(*), ' POC')from person p inner join patient pt on p.person_id = pt.patient_id 
where p.voided=0 and pt.voided = 0
-- and p.person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
)  as reg_pat, 

(select concat(count(*), ' POC')from person p inner join patient pt on p.person_id = pt.patient_id where p.voided=0 and pt.voided = 0 and p.gender = 'M'
-- and p.person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
) as pat_male,

(select concat(count(*), ' POC')from person p inner join patient pt on p.person_id = pt.patient_id where p.voided=0 and pt.voided = 0 and p.gender = 'F'
-- and p.person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
) as pat_female,

(select concat(count(*), ' POC')from person p inner join patient pt on p.person_id = pt.patient_id where p.voided=0 and pt.voided = 0 
and p.birthdate is  null
-- and p.person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
) as pat_no_bday,

(select concat(count(*), ' POC') from person p
   where p.voided = 0
   and (timestampdiff(YEAR, date(p.birthdate), date(now())) &lt; 5)
    and p.birthdate is not null
   and p.person_id in (select distinct pa.person_id from person_attribute pa
where pa.person_attribute_type_id = 999)) as pat_under_five,

(select concat(count(*), ' POC')from person p where p.voided = 0
   and (timestampdiff(YEAR, date(p.birthdate), date(now())) >= 5)
   and (timestampdiff(YEAR, date(p.birthdate), date(now())) &lt;= 15)
    and p.birthdate is not null
   and p.person_id in (select distinct pa.person_id from person_attribute pa
where pa.person_attribute_type_id = 999)) as pat_five_fifteen,

(select concat(count(*), ' POC')from person p
   where p.voided = 0
   and (timestampdiff(YEAR, date(p.birthdate), date(now())) > 15)
   and (timestampdiff(YEAR, date(p.birthdate), date(now())) &lt;= 45)
    and p.birthdate is not null
   and p.person_id in (select distinct pa.person_id from person_attribute pa
where pa.person_attribute_type_id = 999)) as pat_sixteen_fourtysix,

(select concat(count(*), ' POC')from person p
   where p.voided = 0
   and (timestampdiff(YEAR, date(p.birthdate), date(now())) > 45)
    and p.birthdate is not null
   and p.person_id in (select distinct pa.person_id from person_attribute pa
where pa.person_attribute_type_id = 999)) as pat_over_fourtysix,

(select concat(count(*), ' POC')from openmrs.person_attribute where person_attribute_type_id = '39'
-- and person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
) as pat_bi,

(select concat(count(*), ' POC') from openmrs.obs
where concept_id = 8314 and value_coded =1 
-- and person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
) as pat_tb,

(select concat(count(*), ' POC') from openmrs.obs
where concept_id = 8332
-- and person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
) as pat_next_cons, 

 
(select concat(count(*), ' POC') from openmrs.obs
where concept_id = 8333
-- and person_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
) as pat_next_arv,


(select concat(count(*), ' POC')from openmrs.patient_status_state
where patient_state = 'INACTIVE_DEATH'
-- and patient_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
) as pat_dead,

(select concat(count(*), ' POC')from openmrs.patient_status_state
where patient_state = 'INACTIVE_TRANSFERRED_OUT' 
-- and patient_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
) as pat_transfer_out,

(select concat(count(*), ' POC')from openmrs.patient_status_state
where patient_state = 'TARV_ABANDONED' and patient_status = 'TARV'
-- and patient_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
) as pat_abandoned_tarv,

(select concat(count(*), ' POC')from openmrs.patient_status_state
where patient_state = 'TARV_ABANDONED' and patient_status = 'Pre TARV'
-- and patient_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
) as pat_abandoned_pretarv,

(select concat(count(*), ' POC')from openmrs.patient_status_state
where patient_state = 'INACTIVE_SUSPENDED'
-- and patient_id in (select distinct pa.person_id from person_attribute pa where pa.person_attribute_type_id = 999 and pa.value between 27500 and 28500)
) as pat_suspended

 from dual</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>224</xloc>
      <yloc>496</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>poc_estadio</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>poc</connection>
    <sql>select case
when estadio.concept_id=8308 then 'estadio 1'
when estadio.concept_id=8309 then 'estadio 2'
when estadio.concept_id=8310 then 'estadio 3'
when estadio.concept_id=8311 then 'estadio 4'
else 'estadio xx'
end as concept_id, count(*)
from (
select p.person_id,ob.concept_id,max(ob.obs_datetime)
from 
openmrs.person p
inner join openmrs.patient pp on p.person_id =  pp.patient_id
inner join openmrs.obs ob on p.person_id = ob.person_id
where ob.concept_id in (8308,8309,8310,8311)
-- and p.person_id in (select person_id from person_attribute where value between 27500 and 28500 and attribute_type = 999)
group by p.person_id) as estadio
group by estadio.concept_id;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>992</xloc>
      <yloc>192</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>poc_estadio 2</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>poc</connection>
    <sql>select case
when estadio.concept_id=8308 then 'estadio 1 poc'
when estadio.concept_id=8309 then 'estadio 2 poc'
when estadio.concept_id=8310 then 'estadio 3 poc'
when estadio.concept_id=8311 then 'estadio 4 poc'
else 'estadio xx'
end as concept_id, count(*)
from (
select p.person_id,ob.concept_id,max(ob.obs_datetime)
from 
openmrs.person p
inner join openmrs.patient pp on p.person_id =  pp.patient_id
inner join openmrs.obs ob on p.person_id = ob.person_id
where ob.concept_id in (8308,8309,8310,8311)
-- and p.person_id in (select person_id from person_attribute where value between 27500 and 28500 and attribute_type = 999)
group by p.person_id) as estadio
group by estadio.concept_id;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>992</xloc>
      <yloc>496</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>poc_regime</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>poc</connection>
    <sql>select concat(count(distinct person_id),' EPTS')
from obs
where concept_id = 8247;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>400</xloc>
      <yloc>192</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>poc_regime 2</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>poc</connection>
    <sql>select concat(count(distinct person_id),' EPTS')
from obs
where concept_id = 8247;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>400</xloc>
      <yloc>496</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step_error_handling>
  </step_error_handling>
  <slave-step-copy-partition-distribution>
  </slave-step-copy-partition-distribution>
  <slave_transformation>N</slave_transformation>
  <attributes/>
</transformation>
